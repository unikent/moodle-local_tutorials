define(["jquery","core/ajax"],function(a,b){var c=[],d=[],e=function(b){a.each(b,function(a,b){if(b.element.length>0){var e=document.querySelector(b.element);if(!e)return}else delete b.element;d.push(b),c.push(b.id)}),d.length<=0&&a("#tutorial-play").hide()},f=function(){d.length<=0||require(["local_tutorials/intro"],function(a){var e=a();e.setOptions({steps:d,nextLabel:"Next",prevLabel:"Back",skipLabel:"Close",doneLabel:"Close"}),e.onchange(function(){var a=c[this._currentStep];b.call([{methodname:"local_tutorials_mark_seen",args:{id:a}}])}),e.onexit(function(){}),e.oncomplete(function(){}),e.start()})};return{init:function(b,c){e(c),a("#tutorial-play button").on("click",function(){return f(),!1})}}});